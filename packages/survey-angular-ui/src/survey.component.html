<div *ngIf="!!model" [class]="model.css.root">
  <form onsubmit="return false;">
    <div class="sv_custom_header" [hidden]="model.hasLogo"></div>
    <div [class]="model.css.container">
      <!-- ko template: { name: koTitleTemplate, afterRender: koAfterRenderHeader } -->
      <!-- /ko -->
      <div *ngIf="model.state === 'starting'" [class]="model.bodyCss">
        <!-- ko if: isNavigationButtonsShowingOnTop -->
        <!-- ko template: { name: 'survey-navigation-start' } -->
        <!-- /ko -->
        <!-- /ko -->
        <div
          data-bind="attr: { id: startedPage.id }, template: { name: 'survey-page', data: startedPage, afterRender: koAfterRenderPage }">
        </div>
        <!-- ko if: isNavigationButtonsShowingOnBottom -->
        <!-- ko template: { name: 'survey-navigation-start' } -->
        <!-- /ko -->
        <!-- /ko -->
      </div>
      <div *ngIf="model.state === 'running' || model.state === 'preview'" [class]="model.bodyCss">
        <!-- ko if: isTimerPanelShowingOnTop -->
        <!-- ko template: { name: 'survey-timerpanel' } -->
        <!-- /ko -->
        <!-- /ko -->
        <!-- ko if: isShowProgressBarOnTop -->
        <!-- ko component: { name: 'sv-progress-' + progressBarType, params: { model: $data } } -->
        <!-- /ko -->
        <!-- /ko -->
        <!-- ko if: isNavigationButtonsShowingOnTop -->
        <!-- ko template: { name: 'survey-navigation' } -->
        <!-- /ko -->
        <!-- /ko -->
        <!-- ko if: koCurrentPage -->
        <div [id]="model.currentPage.id">
          <page [model]="model.currentPage"></page>
        </div>
        <!-- ko if: isCurrentPageEmpty() && $data.emptyPageTemplate -->
        <!-- ko template: { name: emptyPageTemplate, data: $data.emptyPageTemplateData || $data } -->
        <!-- /ko -->
        <!-- /ko -->
        <!-- /ko -->
        <!-- ko if: isShowProgressBarOnBottom -->
        <!-- ko component: { name: 'sv-progress-' + progressBarType, params: { model: $data } } -->
        <!-- /ko -->
        <!-- /ko -->
        <!-- ko if: isTimerPanelShowingOnBottom -->
        <!-- ko template: { name: 'survey-timerpanel' } -->
        <!-- /ko -->
        <!-- /ko -->
        <!-- ko if: isNavigationButtonsShowingOnBottom -->
        <!-- ko template: { name: 'survey-navigation' } -->
        <!-- /ko -->
        <!-- /ko -->
      </div>
      <div *ngIf="model.state === 'completed' && model.showCompletedPage" [class]="model.completedCss"
        [innerHtml]="model.processedCompletedHtml"></div>
      <div [hidden]="model.completedState === ''" [class]="model.css.saveData.root">
        <div [class]="model.completedStateCss">
          <span>{{model.completedStateText}}</span>
          <input type="button" [hidden]="model.completedState != 'error'"
            [value]="model.getLocString('saveAgainButton')" (click)="model.doComplete()"
            [class]="model.css.saveData.saveAgainButton">
        </div>
      </div>
      <div *ngIf="model.state === 'completedbefore'" [class]="model.css.body"
        [innerHtml]="model.processedCompletedBeforeHtml"></div>
      <div *ngIf="model.state === 'loading'" [class]="model.css.body" [innerHtml]="model.processedLoadingHtml"></div>
      <div *ngIf="model.state === 'empty'" [class]="model.css.bodyEmpty">{{model.emptySurveyText}}</div>
    </div>
  </form>
</div>
<div style="margin-top: 100px;">
  <button type="button" (click)="toggle()">Toggle</button>
  <div [hidden]="!visible">
    <div>
      <code>observable|async</code>:
      Time: {{ time | async }}
    </div>
  </div>
</div>